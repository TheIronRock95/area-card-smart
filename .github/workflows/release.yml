name: Release

on:
  push:
    tags:
      - 'v*'

permissions:
  contents: write

jobs:
  release:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Get version from tag
        id: get_version
        run: echo "VERSION=${GITHUB_REF#refs/tags/v}" >> $GITHUB_OUTPUT

      - name: Create Release
        uses: softprops/action-gh-release@v1
        with:
          name: Area Card Smart v${{ steps.get_version.outputs.VERSION }}
          body: |
            # Area Card Smart v${{ steps.get_version.outputs.VERSION }}

            **Smart area activity detection without binary sensors!**

            ## Installation

            ### Via HACS (Recommended)
            1. Open HACS ‚Üí Frontend
            2. Click ‚ãÆ ‚Üí Custom repositories
            3. Add: `https://github.com/TheIronRock95/area-card-smart`
            4. Category: Lovelace
            5. Download and restart Home Assistant

            ### Manual Installation
            1. Download `area-card-smart.js` below
            2. Copy to `config/www/`
            3. Add to Lovelace resources
            4. Restart Home Assistant

            ## Features
            - üîç Automatic activity detection
            - üé® Dynamic icon coloring
            - üñ±Ô∏è Visual configuration editor
            - ‚ö° Real-time updates

            [View Full Documentation](https://github.com/TheIronRock95/area-card-smart#readme)
          files: |
            area-card-smart.js
          draft: false
          prerelease: false
